In the following pages requirements are mapped with their respective components, goals -requirements refers themselves to- are also reported. For every requirement are specified major and secondary (auxiliary) components according to their relevance for the specific requirement.
When multiple requirements (associated to the same goal) need to be mapped to the same set of components, those requirements are reported in sequence and followed by the set ot components. \\

\begin{itemize}
\item [\textbf{G1}] Allow users to properly use the services they wish to employ 

\subitem \textbf{R1} The Users must be able to log in \\

Major:
\begin{itemize}
\item[\textbullet] Authentication  
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet] Data Dispatcher
\item[\textbullet] DBMS
\item[\textbullet] IU Data Dispatcher
\item[\textbullet] D4H Components on Application Server
\end{itemize}
\subitem \textbf{R2} An IU must be able to opt in and out of any additional service besides D4H\\

Major:
\begin{itemize}
\item[\textbullet]T4R Activation
\item[\textbullet]ASOS Activation
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher 
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\item[\textbullet]IU Data Dispatcher
\end{itemize}
\item [\textbf{G2}] Allow visitor to register as individual or third-party user 

\subitem \textbf{R4} A visitor must be able to register to D4H 
\subitem \textbf{R4.1} A visitor must insert name, age, gender, height, weight, ID, address, email and password
\subitem \textbf{R4.2} A third party must insert name, ID, email and password\\

Major:
\begin{itemize}
\item[\textbullet]Authentication
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]DBMS
\item[\textbullet]IU Data Dispatcher
\item[\textbullet]D4H Application Server
\end{itemize}
\item [\textbf{G3}] Allow individual users to monitor their location and health parameters 

\subitem \textbf{R5} The system must provide to logged IU their current location and health parameters\\

Major:
\begin{itemize}
\item[\textbullet]IU Data Dispatcher

\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]D4H view
\item[\textbullet]Authentication
\end{itemize}
\subitem \textbf{R6} The system must collect and keep track of the location and health data\\

Major:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]IU Data Dispatcher
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\end{itemize}
\item [\textbf{G4}] Allow third-party users to request the data on specific users

\subitem \textbf{R7} A logged in TPU must be able to request the stored data or subscribe to newly produced data, after providing an ID of the user
\subitem \textbf{R7.1} A TPU must be warned whether the data they requested is available\\

Major:
\begin{itemize}
\item[\textbullet]Data Request Manager 
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\end{itemize}


\subitem \textbf{R8} A TPU must be able to obtain the data it has access to \\

Major:
\begin{itemize}
\item[\textbullet]Data Request Manager 
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]IU Data Dispatcher
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\end{itemize}

\item [\textbf{G5}] Allow individual users to approve or deny the specific request for their data

\subitem \textbf{R9} The IU must be notified when a TPU request their data\\

Major:
\begin{itemize}
\item[\textbullet]Data Request Manager 
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]IU Data Dispatcher
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\end{itemize}
\subitem \textbf{R10} An IU must be able to accept the request on their data
\subitem \textbf{R11.1} An IU must be able to deny access to their data
\subitem \textbf{R11.2} An IU must be able to deny block a TPU to automatically deny their future requests for data
\subitem \textbf{R12} User must be able to cancel the TPU subscriptions to their data that they previously accepted\\

Major:
\begin{itemize}
\item[\textbullet]Data Request Manager 
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Data Dispatcher
\item[\textbullet]IU Data Dispatcher
\item[\textbullet]Authentication
\item[\textbullet]DBMS
\end{itemize}

\item [\textbf{G6}] Allow third-party users to request data on anonymized groups of individual users

\subitem \textbf{R13.1} A logged in TPU must be able to request the stored data or subscribe to newly produced data, after providing the specifics of the group it is interested in
\subitem \textbf{R13.2} A TPU must be warned whether it is possible to properly anonymize the data requested\\

Major:
\begin{itemize}
\item[\textbullet]Data Request Manager 
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Authentication
\item[\textbullet]Data Dispatcher
\end{itemize}

\item [\textbf{G7}] Call an ambulance if the system detects a critical health condition

\subitem \textbf{R14} When a critical condition is registered, the system should contact the ES and provide it location and health status of the IU\\

Major:
\begin{itemize}
\item[\textbullet] Health Data analyzer
\item[\textbullet] Emergency Handler
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]ASOS view
\item[\textbullet]ASOS router
\end{itemize}

\subitem \textbf{R15} The IU must be able to cancel the call\\

Major:
\begin{itemize}
\item[\textbullet]ASOS view
\item[\textbullet]ASOS router
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet] Emergency Handler
\end{itemize}

\item [\textbf{G8}] Allow third-party users to organize running competitions

\subitem \textbf{R16.1} A TPU must be able to create a new run, specifying time, duration, path, restriction for enrolment
\subitem \textbf{R16.2} A run organizer must be able to cancel a run \\

Major:
\begin{itemize}
\item[\textbullet]Run Status Manager
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]T4R router
\item[\textbullet]Autenthication
\end{itemize}

\subitem \textbf{R17} Run organizers, participants and spectators must be able to see the status of the ongoing run\\

Major:
\begin{itemize}
\item[\textbullet]T4R view
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Run Status Manager
\item[\textbullet]T4R router
\item[\textbullet]Autenthication
\end{itemize}
\item [\textbf{G9}] Allow Individual users to enrol in existing running competitions as participants

\subitem \textbf{R18.1}An IU must be able to enrol in a future run
\subitem \textbf{R18.2}A participant must be able to cancel their inscription to the run \\

Major:
\begin{itemize}
\item[\textbullet]Run Status Manager
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]T4R router
\item[\textbullet]Autenthication
\end{itemize}

\item [\textbf{G10}] Allow Individual users to subscribe in existing running competition as spectators to monitor underway competitions

\subitem \textbf{R19}An IU must be able to spectate a ongoing run \\

Major:
\begin{itemize}
\item[\textbullet]T4R view
\end{itemize}
Secondary:
\begin{itemize}
\item[\textbullet]Run Status Manager
\item[\textbullet]T4R router
\item[\textbullet]Autenthication
\end{itemize}
\end{itemize}
